{
    "version": "v0.13.0",
    "module_url": "https://github.com/Azure/ALZ-Bicep",
    "config_files": [
        {
            "source": "infra-as-code/bicep/modules/resourceGroup/parameters/resourceGroup.parameters.all.json",
            "detination": "config/resourceGroup.parameters.json"
        },
        {
            "source": "infra-as-code/bicep/modules/policy/definitions/parameters/customPolicyDefinitions.parameters.all.json",
            "destination": "config/customPolicyDefinitions.parameters.json"
        }
    ],
    "parameters": {
        "Prefix": {
            "Type": "UserInput",
            "Description": "The prefix that will be added to all resources created by this deployment. (e.g. 'alz')",
            "Targets": [
                {
                    "Name": "parTopLevelManagementGroupPrefix",
                    "Destination": "Parameters"
                },
                {
                    "Name": "parCompanyPrefix",
                    "Destination": "Parameters"
                },
                {
                    "Name": "parTargetManagementGroupId",
                    "Destination": "Parameters"
                },
                {
                    "Name": "parAssignableScopeManagementGroupId",
                    "Destination": "Parameters"
                }
            ],
            "Value": "",
            "DefaultValue": "alz",
            "Valid": "^[a-zA-Z]{3,5}$"
        },
        "Suffix": {
            "Type": "UserInput",
            "Description": "The suffix that will be added to all resources created by this deployment. (e.g. 'test')",
            "Targets": [
                {
                    "Name": "parTopLevelManagementGroupSuffix",
                    "Destination": "Parameters"
                }
            ],
            "Value": "",
            "DefaultValue": "",
            "Valid": "^[a-zA-Z]{0,5}$"
        },
        "Location": {
            "Type": "UserInput",
            "Description": "Deployment location. (e.g. 'uksouth')",
            "Value": "",
            "Targets": [
                {
                    "Name": "parLocation",
                    "Destination": "Parameters"
                },
                {
                    "Name": "parAutomationAccountLocation",
                    "Destination": "Parameters"
                },
                {
                    "Name": "parLogAnalyticsWorkspaceLocation",
                    "Destination": "Parameters"
                }
            ],
            "AllowedValues": {
                "Display": false,
                "Description": "Getting Azure deployment locations.",
                "Type": "PSScript",
                "Script": "Get-AzLocation | Sort-Object Location | Select-Object -ExpandProperty Location | Where-Object {$_ -notmatch 'asia|(.*)stage$'}",
                "Values": []
            }
        },
        "Environment": {
            "Type": "UserInput",
            "Description": "The Type of environment that will be created. (e.g. 'dev', 'test', 'qa', 'staging', 'prod')",
            "Targets": [
                {
                    "Name": "parEnvironment",
                    "Destination": "Parameters"
                }
            ],
            "Value": "",
            "DefaultValue": "prod",
            "Valid": "^[a-zA-Z0-9]{2,10}$"
        },
        "IdentitySubscriptionId": {
            "Type": "UserInput",
            "Description": "The identifier of the Identity Subscription. (e.g '00000000-0000-0000-0000-000000000000')",
            "Valid": "^( {){0,1}[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(}){0,1}$",
            "Targets": [
                {
                    "Name": "IdentitySubscriptionId",
                    "Destination": "Environment"
                }
            ],
            "Value": ""
        },
        "ConnectivitySubscriptionId": {
            "Type": "UserInput",
            "Description": "The identifier of the Connectivity Subscription. (e.g '00000000-0000-0000-0000-000000000000')",
            "Valid": "^( {){0,1}[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(}){0,1}$",
            "Targets": [
                {
                    "Name": "ConnectivitySubscriptionId",
                    "Destination": "Environment"
                }
            ],
            "Value": ""
        },
        "ManagementSubscriptionId": {
            "Type": "UserInput",
            "Description": "The identifier of the Management Subscription. (e.g 00000000-0000-0000-0000-000000000000)",
            "Valid": "^( {){0,1}[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(}){0,1}$",
            "Targets": [
                {
                    "Name": "ManagementSubscriptionId",
                    "Destination": "Environment"
                }
            ],
            "Value": ""
        },
        "BillingAccountId": {
            "Type": "UserInput",
            "Description": "The identifier of the Billing Account. (e.g 00000000-0000-0000-0000-000000000000)",
            "Valid": "^( {){0,1}[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(}){0,1}$",
            "Value": ""
        },
        "EnrollmentAccountId": {
            "Type": "UserInput",
            "Description": "The identifier of the Enrollment Account. (e.g 00000000-0000-0000-0000-000000000000)",
            "Valid": "^( {){0,1}[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}(}){0,1}$",
            "Value": ""
        },
        "LogAnalyticsResourceId": {
            "Type": "Computed",
            "Value": "/subscriptions/{%ManagementSubscriptionId%}/resourcegroups/alz-logging/providers/microsoft.operationalinsights/workspaces/alz-log-analytics",
            "Targets": [
                {
                    "Name": "parLogAnalyticsWorkspaceResourceId",
                    "Destination": "Parameters"
                }
            ]
        }
    }
}